


investigate_recipe(current_rates, targets)
    while current_rates not meeting targets:

        best = None
        for recipe in unmet_targets:

            define ingredients

            define new_targets

            new_rates = investigate_recipe(new_rates, new_targets)

            subtract ingredients from new_rates
            add recipe output to new_rates

            define cost of new_rates

            if new_rates are better:
                (update best)
        
        (apply recipe):
            current_rates = new_rates

    return current_rates.copy()
